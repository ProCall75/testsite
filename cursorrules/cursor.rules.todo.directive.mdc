meta:
name: "cursor.rules.todo.directive"
version: "3.2-front"
scope: "workflow_todo"
owner: "[Alfred.ai](http://alfred.ai/)"

description: >
R√®gle [Alfred.ai](http://alfred.ai/) pour la g√©n√©ration et l‚Äôex√©cution directive des To-Do.
Chaque macro contient une liste de phases claires et concises.
Chaque phase contient une To-Do directive chronologique et explicite.
Le mod√®le ex√©cute, le validateur humain contr√¥le.

principles:

- Source unique : ‚Å† /@.cursor/plans/macro-to-do-rebuild-front-plan.md ‚Å†.
- Chaque macro contient une liste de phases claires et concises.
- Chaque phase = liste ordonn√©e d‚Äôactions concr√®tes c√¥t√© front.
- Une seule To-Do active √† la fois.
- Validation humaine obligatoire avant ex√©cution et avant commit.
- Z√©ro cr√©ation de fichier en dehors du plan directeur.

workflow:

step_1_planification:
description: "Cr√©er une To-Do directive au d√©but de chaque phase dans le plan directeur."
format:
- "üìãTODO-START Phase X"
- "1. Cr√©er ou modifier le fichier React/TS concern√© (src/.../NomDuFichier.tsx)."
- "   - Impl√©menter la logique ou le composant d√©crit."
- "2. Ajouter ou mettre √† jour le test correspondant dans tests/front/.../NomDuTest.test.tsx."
- "3. Mettre √† jour les imports et exports si n√©cessaires."
- "4. V√©rifier la compilation (tsc --noEmit) et le rendu local."
- "5. Documenter la modification directement dans le plan directeur."
- "üìãTODO-END Phase X"
rules:
- Les t√¢ches doivent √™tre claires, s√©quentielles et auto-suffisantes.
- Chaque t√¢che d√©crit pr√©cis√©ment l‚Äôaction, le chemin et le contenu attendu.
- Aucune improvisation ni g√©n√©ration libre.
- Toute To-Do doit se terminer par : "‚úÖ Validation humaine requise avant impl√©mentation."

step_2_validation:
description: "Validation humaine obligatoire avant toute ex√©cution."
rules:
- Attendre validation explicite.
- Ne jamais ex√©cuter sans approbation.
- Une seule To-Do directive active √† la fois.

step_3_execution:
description: "Ex√©cuter les t√¢ches de la To-Do valid√©e dans l‚Äôordre indiqu√©."
actions:
- Suivre strictement la num√©rotation (1, 2, 3‚Ä¶).
- Impl√©menter chaque √©tape telle qu‚Äô√©crite.
- R√©diger un r√©sum√© 3C : Context / Command / Check.
- S‚Äôarr√™ter avant commit.
- Attendre la commande 'OK commit'.

step_4_commit_and_next:
description: "Commit local valid√© puis passage automatique √† la phase suivante."
actions:
- Commit local avec message : ‚Å† Commit Phase X ‚Äî [Nom Phase] ‚Å†.
- Marquer ‚Å† [x] Phase X termin√©e ‚Å† dans le plan directeur.
- Ajouter le r√©sum√© 3C sous la phase.
- Supprimer la To-Do d√©taill√©e de la phase valid√©e et la remplacer par le r√©sum√© 3C final (nettoyage automatique apr√®s validation humaine).
- Passer automatiquement √† la phase suivante.
- Cr√©er la To-Do directive suivante sans ex√©cution, en attente de validation humaine.
auto_update_notepad:
description: "Met √† jour automatiquement le notepad apr√®s commit."
command: "npm run update-phase"
goal: "Synchroniser la macro_active et la phase_active avec la prochaine phase non coch√©e."

step_5_macro_completion:
description: "Cl√¥ture compl√®te de la macro apr√®s la derni√®re phase."
actions:
- Ajouter :
- "‚úÖ Check global Macro ‚Äî [Nom Macro]"
- "- Tests fonctionnels valid√©s (unitaires prioritaires)"
- "- Coh√©rence Supabase / mock v√©rifi√©e"
- "- Architecture front conforme"
- "- Pr√™t pour Macro suivante"
- Une fois valid√©e, pr√©parer automatiquement la nouvelle liste de phases pour la macro suivante, *sans ex√©cution imm√©diate* (attente validation humaine).

testing_and_docs:
description: "Normes de tests et documentation appliqu√©es automatiquement √† chaque phase."
structure:
- "tests/unit/macro_<id>/phase_<id>/"
- "tests/integration/macro_<id>/phase_<id>/"
- "tests/e2e/macro_<id>/"
conventions:
- "Cr√©er le dossier de tests d√®s la cr√©ation de la sous-phase."
- "Nommer les fichiers selon la To-Do (ex: test_phase7_onboarding.test.tsx)."
- "Ajouter ent√™te standard dans chaque test : ‚Å† # Macro X / Phase Y / Sous-phase Z ‚Å†."
- "Documenter la fin de phase avec un r√©sum√© 3C compl√©t√© d‚Äôun mini-retour qualit√© :"
- "Quality: Stable / √Ä corriger | Debt: Points √† reprendre | Alignment: Coh√©rent / √† revoir | Next: Focus suivant"
goals:
- "Tests unitaires obligatoires d√®s Macros 0.5‚Äì3, int√©gration √† partir de Macro 2, E2E d√®s 7.5."
- "Assurer coh√©rence entre le plan directeur et les tests front."
- "Garantir documentation vivante et lisible dans le plan directeur."

check:

- La macro active contient une liste de phases claires et concises.
- Chaque phase inclut une To-Do directive num√©rot√©e.
- Double validation humaine avant ex√©cution et commit.
- Aucune cr√©ation de fichier hors plan directeur.
- Historique complet des t√¢ches, r√©sum√©s 3C et commits conserv√© dans le plan directeur.
- Format et lisibilit√© conformes aux standards Notion / Linear / SaaS.